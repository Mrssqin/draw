<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.0.0 Safari/537.36" version="24.7.12">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Page-1">
    <mxGraphModel dx="2131" dy="714" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="64iKOwzHIwS2UCSDctwZ-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-3" target="64iKOwzHIwS2UCSDctwZ-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-3" value="接收pipe消息" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="20" y="550" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-6" target="64iKOwzHIwS2UCSDctwZ-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-6" value="消息解析&lt;div&gt;正确？&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="210" y="540" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-12" value="打印错误日志&lt;div&gt;并忽略该消息&lt;/div&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="380" y="550" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-6" target="64iKOwzHIwS2UCSDctwZ-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-14" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="64iKOwzHIwS2UCSDctwZ-13" vertex="1" connectable="0">
          <mxGeometry x="-0.3871" y="-1" relative="1" as="geometry">
            <mxPoint x="12" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-15" target="64iKOwzHIwS2UCSDctwZ-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-15" value="解析消息体" style="whiteSpace=wrap;html=1;strokeWidth=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="190" y="710" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-20" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-17" target="64iKOwzHIwS2UCSDctwZ-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-17" value="检查消息是否为空&lt;div&gt;或者ThreadID为空&lt;/div&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="390" y="710" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-19" target="64iKOwzHIwS2UCSDctwZ-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-19" value="检查是否为评论开关的切换，否则评论ID不能为空" style="whiteSpace=wrap;html=1;strokeWidth=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="590" y="710" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-24" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-21" target="64iKOwzHIwS2UCSDctwZ-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-26" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-21" target="64iKOwzHIwS2UCSDctwZ-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-21" value="通过ThreadID和replyID获取评论信息" style="whiteSpace=wrap;html=1;strokeWidth=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="790" y="710" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-23" value="1. 从数据库取reply信息&lt;div&gt;2. 从localcache取content&lt;/div&gt;&lt;div&gt;3. 取不到从数据库取content&lt;/div&gt;" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;strokeWidth=2;align=left;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="772.5" y="540" width="155" height="110" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-30" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-25" target="64iKOwzHIwS2UCSDctwZ-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-25" value="过滤机器弹幕&amp;amp;弹幕&amp;amp;鼓掌" style="whiteSpace=wrap;html=1;strokeWidth=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="990" y="710" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-29" target="64iKOwzHIwS2UCSDctwZ-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-33" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="64iKOwzHIwS2UCSDctwZ-32" vertex="1" connectable="0">
          <mxGeometry x="-0.1051" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-35" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-29" target="64iKOwzHIwS2UCSDctwZ-34" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1050" y="1010" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-37" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="64iKOwzHIwS2UCSDctwZ-35" vertex="1" connectable="0">
          <mxGeometry x="0.2623" y="1" relative="1" as="geometry">
            <mxPoint x="30" y="-41" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-29" value="是否一级&lt;div&gt;评论？&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1010" y="840" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-39" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-31" target="64iKOwzHIwS2UCSDctwZ-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-31" value="对该评论进行操作" style="whiteSpace=wrap;html=1;strokeWidth=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="830" y="850" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-34" target="64iKOwzHIwS2UCSDctwZ-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-34" value="对该评论父评操作" style="whiteSpace=wrap;html=1;strokeWidth=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="830" y="980" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-42" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-38" target="64iKOwzHIwS2UCSDctwZ-41" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-43" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="64iKOwzHIwS2UCSDctwZ-42" vertex="1" connectable="0">
          <mxGeometry x="-0.2031" y="-3" relative="1" as="geometry">
            <mxPoint x="-25" y="-23" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-45" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-38" target="64iKOwzHIwS2UCSDctwZ-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-46" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="64iKOwzHIwS2UCSDctwZ-45" vertex="1" connectable="0">
          <mxGeometry x="0.0365" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-38" value="添加评论/&lt;div&gt;审核通过？&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="590" y="900" width="90" height="100" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-41" value="" style="whiteSpace=wrap;html=1;strokeWidth=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="370" y="1100" width="970" height="430" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-48" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-44" target="64iKOwzHIwS2UCSDctwZ-41" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="465" y="1100.0000000000002" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-49" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="64iKOwzHIwS2UCSDctwZ-48" vertex="1" connectable="0">
          <mxGeometry x="-0.6677" relative="1" as="geometry">
            <mxPoint x="-10" y="-20" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-51" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-44" target="64iKOwzHIwS2UCSDctwZ-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-44" value="评论点赞/&lt;div&gt;置顶/修改？&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="420" y="900" width="90" height="100" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-53" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-50" target="64iKOwzHIwS2UCSDctwZ-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-55" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-50" target="64iKOwzHIwS2UCSDctwZ-56" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="185" y="950" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-50" value="评论删除/&lt;div&gt;审核删除？&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="250" y="900" width="90" height="100" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-52" value="" style="whiteSpace=wrap;html=1;strokeWidth=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="100" y="1100" width="250" height="420" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-56" value="非预期处理动作&lt;div&gt;结束&lt;br&gt;&lt;/div&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="80" y="920" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-58" value="删除指定评论索引" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="100" y="1100" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-61" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-59" target="64iKOwzHIwS2UCSDctwZ-60" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-59" value="获取所有排序组" style="whiteSpace=wrap;html=1;strokeWidth=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="163" y="1150" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-63" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-60" target="64iKOwzHIwS2UCSDctwZ-62" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-60" value="组装Key和Field删除缓存" style="whiteSpace=wrap;html=1;strokeWidth=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="163" y="1290" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-62" value="重新设置Key过期时间" style="whiteSpace=wrap;html=1;strokeWidth=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="163" y="1430" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-64" value="&lt;meta charset=&quot;utf-8&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(251, 251, 251); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;&quot;&gt;计算粗排分数&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="370" y="1100" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-68" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-66" target="64iKOwzHIwS2UCSDctwZ-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-66" value="过滤机器弹幕&amp;amp;弹幕&amp;amp;鼓掌" style="whiteSpace=wrap;html=1;strokeWidth=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="390" y="1140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-70" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-67" target="64iKOwzHIwS2UCSDctwZ-69" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-67" value="检查是否首次排序&lt;div&gt;请求Redis是否有Key&lt;/div&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="590" y="1140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-72" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-69" target="64iKOwzHIwS2UCSDctwZ-71" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-69" value="检查是否首次排序&lt;div&gt;请求Redis是否有Key&lt;/div&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="790" y="1140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-74" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-71" target="64iKOwzHIwS2UCSDctwZ-73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-71" value="首次排序，线上组发送MISS，实验组根据概率下发MISS" style="whiteSpace=wrap;html=1;strokeWidth=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="990" y="1140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--0" value="" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="390" y="1230" width="920" height="280" as="geometry" />
        </mxCell>
        <mxCell id="64iKOwzHIwS2UCSDctwZ-73" value="发送MISS PB&lt;div&gt;有频控 3次/1h&lt;/div&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1190" y="1140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--2" value="计算分数" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="390" y="1230" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--10" value="是" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--7" target="R3Ifb2M7IaDgMVO6AW9--9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--7" value="评论展示？" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1205" y="1260" width="90" height="100" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="64iKOwzHIwS2UCSDctwZ-73" target="R3Ifb2M7IaDgMVO6AW9--7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--9" target="R3Ifb2M7IaDgMVO6AW9--11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--9" value="从dispatchPool获取执行实例" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1010" y="1280" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--11" target="R3Ifb2M7IaDgMVO6AW9--13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--11" value="设置Reply值和排序类型" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="807.5" y="1280" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--13" target="R3Ifb2M7IaDgMVO6AW9--15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--13" value="执行Run方法获取粗排所需的信息" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="610" y="1280" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--15" target="R3Ifb2M7IaDgMVO6AW9--17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--15" target="R3Ifb2M7IaDgMVO6AW9--26">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="300" y="1310" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--15" value="执行Run方法获取粗排所需的信息" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="414" y="1280" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--20" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--17" target="R3Ifb2M7IaDgMVO6AW9--19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--29" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--17" target="R3Ifb2M7IaDgMVO6AW9--28">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--17" value="遍历每个排序组计执行Run方法算分" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="414" y="1420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--19" target="R3Ifb2M7IaDgMVO6AW9--21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--19" value="将打分结果写入Redis" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="610" y="1420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--24" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--21" target="R3Ifb2M7IaDgMVO6AW9--23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--21" value="单排时，将策略结果及评论粗排分推给 pipe" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="807.5" y="1420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--23" value="设置索引有效期&lt;div&gt;86400 * 3&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1007.5" y="1420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--26" value="1. 词表&lt;div&gt;2. 评论扩展信息&lt;/div&gt;&lt;div&gt;3. 资源Meta信息&lt;/div&gt;&lt;div&gt;4. GR策略信息&lt;/div&gt;&lt;div&gt;5.&amp;nbsp;高质模型&lt;/div&gt;&lt;div&gt;6. 评论质量信息&lt;/div&gt;&lt;div&gt;7. 风险用户&lt;/div&gt;&lt;div&gt;8. threadInfo信息&lt;/div&gt;&lt;div&gt;9. VIP信息&lt;/div&gt;&lt;div&gt;10. 文字表情比&lt;/div&gt;" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;strokeWidth=2;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="240" y="1560" width="130" height="220" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--28" value="&lt;ol start=&quot;1&quot; type=&quot;1&quot; class=&quot;mp-ordered-list&quot; data-slate-node=&quot;element&quot; data-morpho-type=&quot;ordered-list-item&quot;&gt;&lt;li data-morpho-list-initial-number=&quot;1&quot; data-morpho-list-index=&quot;1&quot; data-morpho-list-depth=&quot;0&quot; class=&quot;mp-list-item&quot;&gt;&lt;div style=&quot;text-align: left;&quot; class=&quot;mp-list-item-child&quot;&gt;&lt;span data-morpho-text=&quot;favor&quot;&gt;favor&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li data-morpho-list-index=&quot;2&quot; data-morpho-list-depth=&quot;0&quot; class=&quot;mp-list-item&quot;&gt;&lt;div style=&quot;text-align: left;&quot; class=&quot;mp-list-item-child&quot;&gt;&lt;span data-morpho-text=&quot;like&quot;&gt;like&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li data-morpho-list-index=&quot;3&quot; data-morpho-list-depth=&quot;0&quot; class=&quot;mp-list-item&quot;&gt;&lt;div style=&quot;text-align: left;&quot; class=&quot;mp-list-item-child&quot;&gt;&lt;span data-morpho-text=&quot;reply&quot;&gt;reply&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li data-morpho-list-index=&quot;4&quot; data-morpho-list-depth=&quot;0&quot; class=&quot;mp-list-item&quot;&gt;&lt;div style=&quot;text-align: left;&quot; class=&quot;mp-list-item-child&quot;&gt;&lt;span data-morpho-text=&quot;time&quot;&gt;time&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li data-morpho-list-index=&quot;5&quot; data-morpho-list-depth=&quot;0&quot; class=&quot;mp-list-item&quot;&gt;&lt;div style=&quot;text-align: left;&quot; class=&quot;mp-list-item-child&quot;&gt;&lt;span data-morpho-text=&quot;word_count&quot;&gt;word_count&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li data-morpho-list-index=&quot;6&quot; data-morpho-list-depth=&quot;0&quot; class=&quot;mp-list-item&quot;&gt;&lt;div style=&quot;text-align: left;&quot; class=&quot;mp-list-item-child&quot;&gt;&lt;span data-morpho-text=&quot;anti_word&quot;&gt;anti_word&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li data-morpho-list-index=&quot;7&quot; data-morpho-list-depth=&quot;0&quot; class=&quot;mp-list-item&quot;&gt;&lt;div style=&quot;text-align: left;&quot; class=&quot;mp-list-item-child&quot;&gt;&lt;span data-morpho-text=&quot;anti_word_star&quot;&gt;anti_word_star&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li data-morpho-list-index=&quot;8&quot; data-morpho-list-depth=&quot;0&quot; class=&quot;mp-list-item&quot;&gt;&lt;div style=&quot;text-align: left;&quot; class=&quot;mp-list-item-child&quot;&gt;&lt;span data-morpho-text=&quot;anti_quality&quot;&gt;anti_quality&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li data-morpho-list-index=&quot;9&quot; data-morpho-list-depth=&quot;0&quot; class=&quot;mp-list-item&quot;&gt;&lt;div style=&quot;text-align: left;&quot; class=&quot;mp-list-item-child&quot;&gt;&lt;span data-morpho-text=&quot;repeat&quot;&gt;repeat&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li data-morpho-list-index=&quot;10&quot; data-morpho-list-depth=&quot;0&quot; class=&quot;mp-list-item&quot;&gt;&lt;div style=&quot;text-align: left;&quot; class=&quot;mp-list-item-child&quot;&gt;&lt;span data-morpho-text=&quot;muti_repeat&quot;&gt;muti_repeat&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li data-morpho-list-index=&quot;11&quot; data-morpho-list-depth=&quot;0&quot; class=&quot;mp-list-item&quot;&gt;&lt;div style=&quot;text-align: left;&quot; class=&quot;mp-list-item-child&quot;&gt;&lt;span data-morpho-text=&quot;word_ent&quot;&gt;word_ent&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li data-morpho-list-index=&quot;12&quot; data-morpho-list-depth=&quot;0&quot; class=&quot;mp-list-item&quot;&gt;&lt;div style=&quot;text-align: left;&quot; class=&quot;mp-list-item-child&quot;&gt;&lt;span data-morpho-text=&quot;user_vip&quot;&gt;user_vip&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li data-morpho-list-index=&quot;13&quot; data-morpho-list-depth=&quot;0&quot; class=&quot;mp-list-item&quot;&gt;&lt;div style=&quot;text-align: left;&quot; class=&quot;mp-list-item-child&quot;&gt;&lt;span data-morpho-text=&quot;author_up&quot;&gt;author_up&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li data-morpho-list-index=&quot;14&quot; data-morpho-list-depth=&quot;0&quot; class=&quot;mp-list-item&quot;&gt;&lt;div style=&quot;text-align: left;&quot; class=&quot;mp-list-item-child&quot;&gt;&lt;span data-morpho-text=&quot;pmml_model&quot;&gt;pmml_model&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li data-morpho-list-index=&quot;15&quot; data-morpho-list-depth=&quot;0&quot; class=&quot;mp-list-item&quot;&gt;&lt;div style=&quot;text-align: left;&quot; class=&quot;mp-list-item-child&quot;&gt;&lt;span data-morpho-text=&quot;triple&quot;&gt;triple&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li data-morpho-list-index=&quot;16&quot; data-morpho-list-depth=&quot;0&quot; class=&quot;mp-list-item&quot;&gt;&lt;div style=&quot;text-align: left;&quot; class=&quot;mp-list-item-child&quot;&gt;&lt;span data-morpho-text=&quot;comprehension&quot;&gt;comprehension&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li data-morpho-list-index=&quot;17&quot; data-morpho-list-depth=&quot;0&quot; class=&quot;mp-list-item&quot;&gt;&lt;div style=&quot;text-align: left;&quot; class=&quot;mp-list-item-child&quot;&gt;&lt;span data-morpho-text=&quot;good_comment&quot;&gt;good_comment&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li data-morpho-list-index=&quot;18&quot; data-morpho-list-depth=&quot;0&quot; class=&quot;mp-list-item&quot;&gt;&lt;div style=&quot;text-align: left;&quot; class=&quot;mp-list-item-child&quot;&gt;&lt;span data-morpho-text=&quot;emoji_comment&quot;&gt;emoji_comment&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li data-morpho-list-index=&quot;19&quot; data-morpho-list-depth=&quot;0&quot; class=&quot;mp-list-item&quot;&gt;&lt;div style=&quot;text-align: left;&quot; class=&quot;mp-list-item-child&quot;&gt;&lt;span data-morpho-text=&quot;robot_content&quot;&gt;robot_content&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li data-morpho-list-index=&quot;20&quot; data-morpho-list-depth=&quot;0&quot; class=&quot;mp-list-item&quot;&gt;&lt;div style=&quot;text-align: left;&quot; class=&quot;mp-list-item-child&quot;&gt;&lt;span data-morpho-text=&quot;comment_type&quot;&gt;comment_type&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ol&gt;&lt;span class=&quot;mp-morpho-clipboard-doc-data&quot; data-morpho-doc-data=&quot;{&amp;quot;token&amp;quot;:&amp;quot;eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIiwiYXBwSWQiOjEsInVpZCI6Ik9UTGszSzE0MUIiLCJkb2NJZCI6InRfTVdPQTlKNkIwb0NxIn0..cWW_OyNHfdUdsaOH.ENmodQ7YQ_hwahvo73wdLzpLIOXmeFDSmN8mkUjrUEYqX2gj1FPCNfkjUdVltvt8ydwmB2PFvGVdygUSeMg4dxmT5VN1yjCvJt33StaO5949D-cK7QxVFHbkNUpkJt5TdMLxqpQrLRlcUj8EVlBV9QYxai4PKYWzsQCdTG2fZGquP8YkT4kEJu__YmpHvJKSmJmHYaseeGVR6VyrdmZ13nO71g.1BEHWLFtOx4-2ml9EH3XpA&amp;quot;,&amp;quot;appId&amp;quot;:&amp;quot;1&amp;quot;}&quot;&gt;&lt;/span&gt;" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="420" y="1560" width="140" height="430" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--30" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--31" target="R3Ifb2M7IaDgMVO6AW9--33">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--31" value="接收pipe消息" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2720" y="550" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--33" target="R3Ifb2M7IaDgMVO6AW9--38">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--33" value="消息解析&lt;div&gt;正确？&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2560" y="540" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--34" value="打印错误日志&lt;div&gt;并忽略该消息&lt;/div&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2350" y="550" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--33" target="R3Ifb2M7IaDgMVO6AW9--34">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--36" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="R3Ifb2M7IaDgMVO6AW9--35">
          <mxGeometry x="-0.3871" y="-1" relative="1" as="geometry">
            <mxPoint x="-16" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--37" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--38" target="R3Ifb2M7IaDgMVO6AW9--39">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--38" value="解析消息体" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2540" y="700" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--67" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--39" target="R3Ifb2M7IaDgMVO6AW9--65">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--39" value="检查消息是否为空&lt;div&gt;或者ThreadID为空&lt;/div&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2340" y="700" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--48" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--42" target="R3Ifb2M7IaDgMVO6AW9--47">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--51" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="R3Ifb2M7IaDgMVO6AW9--48">
          <mxGeometry x="0.0222" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--42" value="索引强制重建？" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1930" y="680" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--50" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--47" target="R3Ifb2M7IaDgMVO6AW9--56">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1780" y="880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--52" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="R3Ifb2M7IaDgMVO6AW9--50">
          <mxGeometry x="-0.0422" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--47" target="R3Ifb2M7IaDgMVO6AW9--53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--47" value="清空索引？" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1732" y="680" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--53" value="非预期处理动作&lt;div&gt;结束&lt;br&gt;&lt;/div&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1554" y="700" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--56" value="" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1654" y="880" width="256" height="570" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--57" value="删除指定评论索引" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1654" y="880" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--58" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--59" target="R3Ifb2M7IaDgMVO6AW9--61">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--59" value="获取所有排序组" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1717" y="930" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--60" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--61" target="R3Ifb2M7IaDgMVO6AW9--62">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--61" value="组装Key删除缓存" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1717" y="1070" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--64" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--62" target="R3Ifb2M7IaDgMVO6AW9--63">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--62" value="删除全排锁&lt;div&gt;ps:热点资源和普通资源缓存集群不同&lt;/div&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1717" y="1210" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--63" value="&lt;div&gt;删除全排计时器&lt;/div&gt;&lt;div&gt;ps:热点资源和普通资源缓存集群不同&lt;/div&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1717" y="1350" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--68" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--65" target="R3Ifb2M7IaDgMVO6AW9--42">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--69" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="R3Ifb2M7IaDgMVO6AW9--68">
          <mxGeometry x="0.3605" y="-1" relative="1" as="geometry">
            <mxPoint x="21" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--71" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--65" target="R3Ifb2M7IaDgMVO6AW9--70">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--72" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="R3Ifb2M7IaDgMVO6AW9--71">
          <mxGeometry x="-0.3978" y="-1" relative="1" as="geometry">
            <mxPoint x="1" y="10" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--65" value="索引缺失？" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2150" y="680" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--70" value="" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1920" y="880" width="890" height="560" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--75" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--73" target="R3Ifb2M7IaDgMVO6AW9--74">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--73" value="筛选出需要重新排序的组" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2030" y="920" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--78" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--74" target="R3Ifb2M7IaDgMVO6AW9--79">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2429.9999999999995" y="950.0000000000002" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--74" value="并发重制超时时间&lt;div&gt;失败增加misCount&lt;/div&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2230" y="920" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--81" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.041;entryY=0.501;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--79" target="R3Ifb2M7IaDgMVO6AW9--84">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2635.4" y="949.3999999999999" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--85" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="R3Ifb2M7IaDgMVO6AW9--81">
          <mxGeometry x="-0.2668" y="-1" relative="1" as="geometry">
            <mxPoint x="-3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--87" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--79" target="R3Ifb2M7IaDgMVO6AW9--91">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2492" y="1060.0000000000002" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2492" y="1030" />
              <mxPoint x="2705" y="1030" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--88" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="R3Ifb2M7IaDgMVO6AW9--87">
          <mxGeometry x="-0.057" y="-3" relative="1" as="geometry">
            <mxPoint x="3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--79" value="misCount==0?" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2442" y="900" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--84" value="与Redis上次排序&lt;div&gt;时间&lt;span style=&quot;background-color: initial;&quot;&gt;比较是否&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;能重排？&lt;/span&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2630" y="895" width="150" height="110" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--89" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--84" target="R3Ifb2M7IaDgMVO6AW9--91">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2552" y="1090.0000000000002" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2705" y="1120" />
              <mxPoint x="2705" y="1120" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--90" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="R3Ifb2M7IaDgMVO6AW9--89">
          <mxGeometry x="-0.6146" y="-2" relative="1" as="geometry">
            <mxPoint x="2" y="-11" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--93" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--91" target="R3Ifb2M7IaDgMVO6AW9--92">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--94" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="R3Ifb2M7IaDgMVO6AW9--93">
          <mxGeometry x="0.1937" y="2" relative="1" as="geometry">
            <mxPoint x="9" y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--91" value="抢占全排锁成功？" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2655" y="1060" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--92" value="" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1950" y="1040" width="592" height="380" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--95" value="携带超时的重排" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1950" y="1040" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--98" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--96" target="R3Ifb2M7IaDgMVO6AW9--97">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--96" value="" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1960" y="1080" width="380" height="330" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--100" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--97" target="R3Ifb2M7IaDgMVO6AW9--99">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--97" value="" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2360" y="1080" width="170" height="210" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--99" value="删除全排锁" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2360" y="1340" width="170" height="70" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--103" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--101" target="R3Ifb2M7IaDgMVO6AW9--102">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--101" value="对资源前两页&lt;div&gt;缓存进行容灾&lt;/div&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2385" y="1090" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--102" value="对资源Info信息&lt;div&gt;进行容灾&lt;/div&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2385" y="1210" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--106" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--104" target="R3Ifb2M7IaDgMVO6AW9--105">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--104" value="每次获取50条评论信息" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1970" y="1100" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--108" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--105" target="R3Ifb2M7IaDgMVO6AW9--107">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--105" value="从localcache获取内容" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2170" y="1100" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--110" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--107" target="R3Ifb2M7IaDgMVO6AW9--109">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--107" value="从redis获取内容" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2170" y="1210" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--112" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--109" target="R3Ifb2M7IaDgMVO6AW9--111">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--109" value="重排最多排300条评论" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1970" y="1210" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--114" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--111" target="R3Ifb2M7IaDgMVO6AW9--113">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--116" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.998;entryY=0.429;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--111" target="R3Ifb2M7IaDgMVO6AW9--0">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2030.0000000000005" y="1470" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2030" y="1670" />
              <mxPoint x="1410" y="1670" />
              <mxPoint x="1410" y="1350" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--111" value="计算评论分数" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1970" y="1330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--113" value="Redis设置重排时间" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2170" y="1330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--117" value="是" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--42" target="R3Ifb2M7IaDgMVO6AW9--92">
          <mxGeometry x="-0.6154" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1980" y="980" />
              <mxPoint x="1980" y="980" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--118" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--119" target="R3Ifb2M7IaDgMVO6AW9--121">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--119" value="接收pipe消息" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="5" y="2210" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--120" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--121" target="R3Ifb2M7IaDgMVO6AW9--126">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--121" value="消息解析&lt;div&gt;正确？&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="195" y="2200" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--122" value="打印错误日志&lt;div&gt;并忽略该消息&lt;/div&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="365" y="2210" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--123" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--121" target="R3Ifb2M7IaDgMVO6AW9--122">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--124" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="R3Ifb2M7IaDgMVO6AW9--123">
          <mxGeometry x="-0.3871" y="-1" relative="1" as="geometry">
            <mxPoint x="12" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--125" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--126" target="R3Ifb2M7IaDgMVO6AW9--127">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--126" value="解析消息体" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="175" y="2370" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--129" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--127" target="R3Ifb2M7IaDgMVO6AW9--134">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="569.9999999999998" y="2400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--127" value="检查消息是否为空&lt;div&gt;或者ThreadID或者ReplyID为空&lt;/div&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="375" y="2370" width="115" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--133" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--134" target="R3Ifb2M7IaDgMVO6AW9--131">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="627.4999999999998" y="2430" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--135" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="R3Ifb2M7IaDgMVO6AW9--133">
          <mxGeometry x="-0.1027" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--130" value="" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="542.5" y="2540" width="170" height="210" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--131" value="对资源前两页&lt;div&gt;缓存进行容灾&lt;/div&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="567.5" y="2550" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--132" value="对资源Info信息&lt;div&gt;进行容灾&lt;/div&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="567.5" y="2670" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--137" value="否" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--134" target="R3Ifb2M7IaDgMVO6AW9--136">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--134" value="评论添加/审核通过/审核删除/用户删除/置顶" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="571" y="2345" width="113" height="110" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--139" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--136" target="R3Ifb2M7IaDgMVO6AW9--140">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="820.5000000000002" y="2560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--141" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="R3Ifb2M7IaDgMVO6AW9--139">
          <mxGeometry x="-0.1919" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--143" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--136" target="R3Ifb2M7IaDgMVO6AW9--236">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="953.5" y="2400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--136" value="前端容灾MISS" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="764" y="2345" width="113" height="110" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--140" value="对资源前两页&lt;div&gt;缓存进行容灾&lt;/div&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="760.5" y="2540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--154" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--155" target="R3Ifb2M7IaDgMVO6AW9--157">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--155" value="接收pipe消息" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="3110" y="1950" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--156" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--157" target="R3Ifb2M7IaDgMVO6AW9--162">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--157" value="消息解析&lt;div&gt;正确？&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2950" y="1940" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--158" value="打印错误日志&lt;div&gt;并忽略该消息&lt;/div&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2740" y="1950" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--159" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--157" target="R3Ifb2M7IaDgMVO6AW9--158">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--160" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="R3Ifb2M7IaDgMVO6AW9--159">
          <mxGeometry x="-0.3871" y="-1" relative="1" as="geometry">
            <mxPoint x="-16" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--161" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--162" target="R3Ifb2M7IaDgMVO6AW9--163">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--162" value="解析消息体" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2930" y="2100" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--165" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--163" target="R3Ifb2M7IaDgMVO6AW9--164">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--163" value="检查消息是否为空&lt;div&gt;或者ThreadID为空&lt;/div&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2730" y="2100" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--167" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--164" target="R3Ifb2M7IaDgMVO6AW9--166">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--164" value="检查是否为评论开关的切换，否则评论ID不能为空" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2530" y="2100" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--179" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--166" target="R3Ifb2M7IaDgMVO6AW9--178">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2380" y="2228" />
              <mxPoint x="2510" y="2228" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--203" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="R3Ifb2M7IaDgMVO6AW9--179">
          <mxGeometry x="-0.7957" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--201" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--166" target="R3Ifb2M7IaDgMVO6AW9--200">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--204" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="R3Ifb2M7IaDgMVO6AW9--201">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--166" value="审核/用户删除？" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2330" y="2085" width="100" height="90" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--184" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--172" target="R3Ifb2M7IaDgMVO6AW9--176">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--172" value="" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2400" y="2280" width="220" height="460" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--181" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--175" target="R3Ifb2M7IaDgMVO6AW9--180">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--175" value="获取所有排序组" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2450" y="2338" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--191" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--176" target="R3Ifb2M7IaDgMVO6AW9--177">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--176" value="" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2160" y="2280" width="220" height="460" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--177" value="" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1860" y="2280" width="280" height="460" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--178" value="清除热评缓存" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2400" y="2280" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--183" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--180" target="R3Ifb2M7IaDgMVO6AW9--182">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--180" value="获取热评的所有场景" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2450" y="2470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--182" value="清除各个场景各个排序组信息" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2450" y="2610" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--185" value="更新评论总数" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2160" y="2280" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--188" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--186" target="R3Ifb2M7IaDgMVO6AW9--187">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--186" value="从comment-base获取评论数" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2210" y="2338" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--190" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--187" target="R3Ifb2M7IaDgMVO6AW9--189">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--187" value="设置评论总数和一级评论数缓存" style="whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2210" y="2478" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--189" value="广播同步comment-uni&lt;div&gt;评论数变更&lt;/div&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2210" y="2618" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--192" value="更新页面缓存" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1870" y="2280" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--195" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--193" target="R3Ifb2M7IaDgMVO6AW9--194">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--198" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="R3Ifb2M7IaDgMVO6AW9--195">
          <mxGeometry x="0.0984" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--197" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--193" target="R3Ifb2M7IaDgMVO6AW9--196">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2000" y="2398" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--199" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="R3Ifb2M7IaDgMVO6AW9--197">
          <mxGeometry x="0.1858" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--193" value="热点资源？" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1960" y="2318" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--194" value="获取&lt;b&gt;3&lt;/b&gt;页评论列表&lt;div&gt;刷新各机房缓存&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1870" y="2450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--196" value="删除评论列表缓存" style="whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2010" y="2450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--202" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--200" target="R3Ifb2M7IaDgMVO6AW9--185">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--205" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="R3Ifb2M7IaDgMVO6AW9--202">
          <mxGeometry x="-0.7105" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--207" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--200" target="R3Ifb2M7IaDgMVO6AW9--206">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--200" value="评论添加/过审？" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2150" y="2085" width="100" height="90" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--208" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--206" target="R3Ifb2M7IaDgMVO6AW9--177">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--209" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="R3Ifb2M7IaDgMVO6AW9--208">
          <mxGeometry x="-0.4453" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--211" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--206" target="R3Ifb2M7IaDgMVO6AW9--212">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1900" y="2130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--206" value="评论点赞/置顶&lt;div&gt;开关？&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1970" y="2085" width="100" height="90" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--212" value="非预期处理动作&lt;div&gt;结束&lt;br&gt;&lt;/div&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1800" y="2100" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--223" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--224" target="R3Ifb2M7IaDgMVO6AW9--226">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--224" value="接收pipe消息" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-30" y="2880" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--225" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--226" target="R3Ifb2M7IaDgMVO6AW9--231">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--226" value="消息解析&lt;div&gt;正确？&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="160" y="2870" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--227" value="打印错误日志&lt;div&gt;并忽略该消息&lt;/div&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="330" y="2880" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--228" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--226" target="R3Ifb2M7IaDgMVO6AW9--227">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--229" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="R3Ifb2M7IaDgMVO6AW9--228">
          <mxGeometry x="-0.3871" y="-1" relative="1" as="geometry">
            <mxPoint x="12" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--230" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--231" target="R3Ifb2M7IaDgMVO6AW9--232">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--231" value="解析消息体" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="140" y="3040" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--234" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--232" target="R3Ifb2M7IaDgMVO6AW9--235">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="535" y="3070" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--232" value="检查消息是否为空&lt;div&gt;或者ThreadID或者ReplyID为空&lt;/div&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="340" y="3040" width="115" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--238" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--235" target="R3Ifb2M7IaDgMVO6AW9--237">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--242" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="R3Ifb2M7IaDgMVO6AW9--238">
          <mxGeometry x="-0.1097" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--240" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--235" target="R3Ifb2M7IaDgMVO6AW9--239">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--241" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="R3Ifb2M7IaDgMVO6AW9--240">
          <mxGeometry x="0.1502" y="-1" relative="1" as="geometry">
            <mxPoint x="1" y="-12" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--235" value="评论添加/过审&lt;div&gt;审核/用户删除&lt;/div&gt;&lt;div&gt;点赞/点踩&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="530" y="3015" width="113" height="110" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--236" value="非预期处理动作&lt;div&gt;结束&lt;br&gt;&lt;/div&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="980" y="2370" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--237" value="非预期处理动作&lt;div&gt;结束&lt;br&gt;&lt;/div&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="730" y="3040" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--239" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="410.5" y="3180" width="353.5" height="130" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--245" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="R3Ifb2M7IaDgMVO6AW9--243" target="R3Ifb2M7IaDgMVO6AW9--244">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--243" value="格式化时间日期为分钟" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="430" y="3210" width="115" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R3Ifb2M7IaDgMVO6AW9--244" value="以分钟为KEY&lt;div&gt;ThreadID为Field+1&lt;/div&gt;" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="625" y="3210" width="115" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
